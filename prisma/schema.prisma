generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Metrics {
  id        String    @id @default(uuid())
  name      String
  model     ModelType
  metrics   String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Chat {
  id         String    @id @default(uuid())
  model      ModelType @default(Deepseek)
  chat       String    @default("<no chat>")
  reasoning  String
  userPrompt String
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  tradings   Trading[]
}

model Trading {
  id         String    @id @default(uuid())
  symbol     Symbol
  opeartion  Opeartion
  leverage   Int?
  amount     Float?
  pricing    Float?
  stopLoss   Float?
  takeProfit Float?
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  chatId     String?
  Chat       Chat?     @relation(fields: [chatId], references: [id], onDelete: Cascade)
}

enum Opeartion {
  Buy
  Sell
  Hold
}

enum Symbol {
  BTC
  ETH
  BNB
  SOL
  DOGE
  XRP
}

enum ModelType {
  Deepseek
  DeepseekThinking
  Qwen
  Doubao
}